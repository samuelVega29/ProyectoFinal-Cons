<!DOCTYPE html>
<html lang="es"> 
<head>
    <!-- Definición del conjunto de caracteres a utilizar (UTF-8) para asegurar una correcta visualización de caracteres especiales -->
    <meta charset="UTF-8"> 
    <!-- Configuración para que el contenido sea adaptable a distintos tamaños de pantalla (dispositivos móviles y escritorio) -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <!-- Título de la página que se muestra en la pestaña del navegador -->
    <title>Gestor CSV</title>
    <!-- Vinculación con una hoja de estilos CSS externa -->
    <link rel="stylesheet" href="styleCSV.css">
</head>
<body>
    <!-- Contenedor principal de la página -->
    <div class="container">
        <!-- Título principal de la página -->
        <h1>Gestor de archivos planos CSV - USTA</h1>
        <!-- Formulario para cargar un archivo CSV -->
        <form id="uploadForm" action="/upload" method="POST" enctype="multipart/form-data">
            <!-- Campo de entrada para seleccionar archivos de tipo CSV, es obligatorio -->
            <input type="file" name="csvfile" id="csvfile" accept=".csv" required>
            <!-- Botón para enviar el formulario -->
            <button type="submit">Subir y procesar</button>
        </form>
    </div>
    <!-- Bloque de script JavaScript -->
    <script>
        // Agregar un evento al formulario para validar el archivo al intentar enviarlo
        document.getElementById('uploadForm').addEventListener('submit', function(event) {
            const fileInput = document.getElementById('csvfile'); // Obtener el input del archivo
            const filePath = fileInput.value; // Obtener la ruta del archivo seleccionado

            // Verificación de la extensión del archivo
            if (filePath.substring(filePath.lastIndexOf('.') + 1) !== 'csv') {
                event.preventDefault(); // Detener el envío del formulario si no es CSV
                alert('Solo se permiten archivos CSV.'); // Mostrar una alerta al usuario
                return false; // Evitar el comportamiento predeterminado
            }
        });
    </script>
</body>
</html>
